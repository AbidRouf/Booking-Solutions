<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Solutions | AI Receptionist Systems</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Markdown Parser for Gemini responses -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            dark: '#0f172a',
                            primary: '#2563eb',
                            accent: '#06b6d4',
                            success: '#10b981',
                            danger: '#ef4444',
                            warning: '#f59e0b'
                        }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 3s ease-in-out infinite',
                        'spin-slow': 'spin 3s linear infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom Styles for Glassmorphism and specialized UI elements */
        .glass-nav {
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .chat-bubble-ai {
            background: #2563eb;
            color: white;
            border-bottom-left-radius: 0;
        }

        .chat-bubble-user {
            background: #334155;
            color: white;
            border-bottom-right-radius: 0;
        }

        /* Audio Wave Animation */
        .bar {
            width: 6px;
            background: #06b6d4;
            animation: sound 0ms -800ms linear infinite alternate;
            border-radius: 4px;
        }

        @keyframes sound {
            0% { height: 3px; opacity: 0.35; }
            100% { height: 40px; opacity: 1; }
        }

        /* Range Slider Styling */
        input[type=range] {
            -webkit-appearance: none; 
            background: transparent; 
        }
        
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #06b6d4;
            cursor: pointer;
            margin-top: -8px; 
            box-shadow: 0 0 10px rgba(6, 182, 212, 0.5);
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #334155;
            border-radius: 2px;
        }
        
        /* FAQ Details Animation */
        details > summary {
            list-style: none;
        }
        details > summary::-webkit-details-marker {
            display: none;
        }
        details[open] summary ~ * {
            animation: sweep .3s ease-in-out;
        }
        @keyframes sweep {
            0%    {opacity: 0; transform: translateY(-10px)}
            100%  {opacity: 1; transform: translateY(0)}
        }

        /* Legal Modal Scrollbar */
        .legal-content::-webkit-scrollbar {
            width: 8px;
        }
        .legal-content::-webkit-scrollbar-track {
            background: #1e293b; 
        }
        .legal-content::-webkit-scrollbar-thumb {
            background: #475569; 
            border-radius: 4px;
        }
        .legal-content::-webkit-scrollbar-thumb:hover {
            background: #64748b; 
        }
    </style>
</head>
<body class="bg-brand-dark text-white font-sans antialiased overflow-x-hidden">

    <!-- Sticky Navigation -->
    <nav class="fixed w-full z-50 glass-nav transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-gradient-to-br from-brand-primary to-brand-accent rounded-lg flex items-center justify-center mr-3">
                        <i class="fas fa-check-double text-white text-sm"></i>
                    </div>
                    <span class="font-bold text-xl tracking-tight">Booking <span class="text-brand-accent font-normal">Solutions</span></span>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-6 items-center">
                    <a href="#problems" class="text-gray-300 hover:text-white transition text-sm">Why Us?</a>
                    <a href="#features" class="text-gray-300 hover:text-white transition text-sm">Features</a>
                    <a href="#demo" class="text-gray-300 hover:text-white transition text-sm">Demo</a>
                    <a href="#playground" class="text-brand-accent hover:text-white transition flex items-center text-sm"><i class="fas fa-magic mr-1"></i> AI Lab</a>
                    <a href="#pricing" class="text-gray-300 hover:text-white transition text-sm">Pricing</a>
                    <a href="#onboard" class="bg-brand-primary hover:bg-blue-600 px-5 py-2 rounded-full font-medium transition shadow-lg shadow-blue-500/30 text-sm">Get Started</a>
                </div>

                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-gray-300 hover:text-white focus:outline-none">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu Dropdown -->
        <div id="mobile-menu" class="hidden md:hidden bg-slate-900 border-t border-slate-800">
            <div class="px-4 pt-2 pb-6 space-y-2">
                <a href="#problems" class="block px-3 py-2 text-base font-medium text-gray-300 hover:text-white hover:bg-slate-800 rounded-md">Why Us?</a>
                <a href="#features" class="block px-3 py-2 text-base font-medium text-gray-300 hover:text-white hover:bg-slate-800 rounded-md">Features</a>
                <a href="#demo" class="block px-3 py-2 text-base font-medium text-gray-300 hover:text-white hover:bg-slate-800 rounded-md">Demo</a>
                <a href="#playground" class="block px-3 py-2 text-base font-medium text-brand-accent hover:text-white hover:bg-slate-800 rounded-md"><i class="fas fa-magic mr-2"></i>AI Lab</a>
                <a href="#pricing" class="block px-3 py-2 text-base font-medium text-gray-300 hover:text-white hover:bg-slate-800 rounded-md">Pricing</a>
                <a href="#onboard" class="block px-3 py-2 text-base font-medium text-brand-accent hover:text-white hover:bg-slate-800 rounded-md">Get Started</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="relative pt-32 pb-20 lg:pt-40 lg:pb-28 overflow-hidden">
        <!-- Background Elements -->
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-full z-0 pointer-events-none">
            <div class="absolute top-20 left-10 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse-slow"></div>
            <div class="absolute top-40 right-10 w-72 h-72 bg-cyan-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse-slow" style="animation-delay: 1s;"></div>
        </div>

        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="inline-flex items-center px-4 py-2 rounded-full border border-brand-accent/30 bg-brand-accent/10 text-brand-accent text-sm font-semibold mb-8 animate-float">
                <span class="flex h-2 w-2 relative mr-2">
                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-cyan-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-2 w-2 bg-cyan-500"></span>
                </span>
                New: Closed Loop SMS System V2.1
            </div>
            
            <h1 class="text-5xl md:text-7xl font-bold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r from-white via-gray-200 to-gray-400">
                Stop Missing Calls.<br>
                <span class="text-brand-primary">Start Booking Revenue.</span>
            </h1>
            
            <p class="mt-4 max-w-2xl mx-auto text-xl text-gray-400">
                The AI Receptionist that answers 24/7, speaks with a British accent, and manages your entire calendar. Zero double-bookings. 100% human parity.
            </p>

            <div class="mt-10 flex justify-center gap-4">
                <button onclick="openAudioModal()" class="group flex items-center bg-white text-brand-dark px-8 py-4 rounded-full font-bold text-lg hover:bg-gray-100 transition shadow-lg shadow-white/10">
                    <i class="fas fa-play-circle mr-3 text-brand-primary group-hover:scale-110 transition-transform"></i>
                    Hear Sample
                </button>
                <a href="#roi" class="flex items-center px-8 py-4 rounded-full border border-gray-600 hover:border-white hover:bg-white/5 transition font-medium text-lg">
                    Calculate Loss
                </a>
            </div>

            <!-- Trust Stats -->
            <div class="mt-16 grid grid-cols-2 md:grid-cols-4 gap-8 border-t border-white/10 pt-8">
                <div>
                    <div class="text-3xl font-bold text-white">&lt;800ms</div>
                    <div class="text-sm text-gray-500">Latency (Human Speed)</div>
                </div>
                <div>
                    <div class="text-3xl font-bold text-white">24/7</div>
                    <div class="text-sm text-gray-500">Availability</div>
                </div>
                <div>
                    <div class="text-3xl font-bold text-white">100%</div>
                    <div class="text-sm text-gray-500">Conflict Free Booking</div>
                </div>
                <div>
                    <div class="text-3xl font-bold text-white">+44 7</div>
                    <div class="text-sm text-gray-500">Mobile & SMS Ready</div>
                </div>
            </div>
        </div>
    </section>

    <!-- NEW: The Problem Section -->
    <section id="problems" class="py-20 bg-slate-800/30">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="text-brand-danger font-bold uppercase tracking-wider text-sm">The Hidden Cost</span>
                <h2 class="text-3xl md:text-4xl font-bold mt-2">Is Your Phone Costing You Money?</h2>
                <p class="text-gray-400 mt-4 max-w-2xl mx-auto">Every time the phone rings and nobody answers, a potential customer goes to your competitor. It's that simple.</p>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <!-- Problem 1 -->
                <div class="glass-card p-8 rounded-2xl relative overflow-hidden group hover:border-brand-danger/30 transition">
                    <div class="absolute -right-4 -top-4 bg-brand-danger/10 w-24 h-24 rounded-full blur-2xl group-hover:bg-brand-danger/20 transition"></div>
                    <div class="mb-6 inline-flex items-center justify-center w-12 h-12 rounded-lg bg-brand-danger/10 text-brand-danger">
                        <i class="fas fa-phone-slash text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">The "Voicemail Void"</h3>
                    <p class="text-gray-400 text-sm leading-relaxed">
                        67% of customers hang up the moment they hear a voicemail beep. They don't leave a message; they just call the next business on Google.
                    </p>
                </div>

                <!-- Problem 2 -->
                <div class="glass-card p-8 rounded-2xl relative overflow-hidden group hover:border-brand-warning/30 transition">
                    <div class="absolute -right-4 -top-4 bg-brand-warning/10 w-24 h-24 rounded-full blur-2xl group-hover:bg-brand-warning/20 transition"></div>
                    <div class="mb-6 inline-flex items-center justify-center w-12 h-12 rounded-lg bg-brand-warning/10 text-brand-warning">
                        <i class="fas fa-users-slash text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">Staff Distraction</h3>
                    <p class="text-gray-400 text-sm leading-relaxed">
                        Every time your staff stops working to answer a simple question, you lose productivity. Your barbers should be cutting hair, not playing receptionist.
                    </p>
                </div>

                <!-- Problem 3 -->
                <div class="glass-card p-8 rounded-2xl relative overflow-hidden group hover:border-blue-500/30 transition">
                    <div class="absolute -right-4 -top-4 bg-blue-500/10 w-24 h-24 rounded-full blur-2xl group-hover:bg-blue-500/20 transition"></div>
                    <div class="mb-6 inline-flex items-center justify-center w-12 h-12 rounded-lg bg-blue-500/10 text-blue-400">
                        <i class="fas fa-moon text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">The After-Hours Gap</h3>
                    <p class="text-gray-400 text-sm leading-relaxed">
                        You operate 9-5, but your customers want to book at 9 PM. If you aren't answering 24/7, you are capping your own revenue growth.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Breakdown -->
    <section id="features" class="py-20 bg-slate-900/50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <span class="text-brand-success font-bold uppercase tracking-wider text-sm">The Solution</span>
                <h2 class="text-3xl font-bold mt-2">Why Leading UK Businesses Choose Us</h2>
                <p class="text-gray-400 mt-2">More than just a voicemail. It's a full-time employee.</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Feature 1 -->
                <div class="glass-card p-6 rounded-2xl hover:bg-white/5 transition">
                    <div class="w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center mb-4">
                        <i class="fas fa-calendar-check text-blue-400 text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Google Calendar Sync</h3>
                    <p class="text-gray-400 text-sm">We read your real-time availability. If you block out "Lunch", the AI won't book it. Zero double-bookings guaranteed.</p>
                </div>
                <!-- Feature 2 -->
                <div class="glass-card p-6 rounded-2xl hover:bg-white/5 transition">
                    <div class="w-12 h-12 bg-cyan-500/20 rounded-lg flex items-center justify-center mb-4">
                        <i class="fas fa-lock text-cyan-400 text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Safety Lock Protocol</h3>
                    <p class="text-gray-400 text-sm">Our "Get Many Events" logic checks your calendar milliseconds before confirming to prevent conflicts.</p>
                </div>
                <!-- Feature 3 -->
                <div class="glass-card p-6 rounded-2xl hover:bg-white/5 transition">
                    <div class="w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center mb-4">
                        <i class="fas fa-headset text-green-400 text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Smart Handoff</h3>
                    <p class="text-gray-400 text-sm">Complex query? Angry customer? The AI detects sentiment and instantly forwards the call to your mobile.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Chat Simulation Section -->
    <section id="demo" class="py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-16 items-center">
                <!-- Text Content -->
                <div>
                    <h2 class="text-3xl font-bold mb-6">The "Closed Loop" System</h2>
                    <p class="text-gray-400 mb-6 text-lg">
                        Standard voicemail is a graveyard for leads. Our V2.1 system doesn't just take messages; it completes the booking cycle.
                    </p>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-brand-success mt-1 mr-3"></i>
                            <div>
                                <strong class="text-white block">Real-time Calendar Sync</strong>
                                <span class="text-sm text-gray-500">Reads your Google Calendar to prevent double bookings instantly.</span>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-brand-success mt-1 mr-3"></i>
                            <div>
                                <strong class="text-white block">2-Way SMS Confirmation</strong>
                                <span class="text-sm text-gray-500">Sends confirmation texts. Clients can reply "Cancel" to auto-remove the booking.</span>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-brand-success mt-1 mr-3"></i>
                            <div>
                                <strong class="text-white block">Smart Handoff Protocol</strong>
                                <span class="text-sm text-gray-500">Complex question? The AI detects it and forwards the call to your mobile.</span>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Chat UI Simulation (Static) -->
                <div class="relative mx-auto w-full max-w-[380px]">
                    <div class="absolute -inset-1 bg-gradient-to-r from-blue-600 to-cyan-600 rounded-[2.5rem] blur opacity-30"></div>
                    <div class="relative bg-slate-950 border border-slate-800 rounded-[2rem] p-4 shadow-2xl h-[600px] flex flex-col overflow-hidden">
                        <!-- Phone Header -->
                        <div class="flex justify-between items-center px-4 py-2 border-b border-slate-800 mb-4">
                            <span class="text-xs text-gray-400">12:42</span>
                            <div class="h-6 w-20 bg-black rounded-full absolute left-1/2 -translate-x-1/2 top-4"></div>
                            <span class="text-xs text-gray-400"><i class="fas fa-signal"></i> 5G</span>
                        </div>
                        
                        <!-- Messages Area (Static) -->
                        <div id="chat-container" class="flex-1 overflow-y-auto space-y-4 p-2">
                            <!-- User Message -->
                            <div class="flex flex-col w-full">
                                <div class="p-3 rounded-2xl max-w-[85%] text-sm mb-2 shadow-sm chat-bubble-user self-end ml-auto mr-0">
                                    Hi, I need a haircut at 5pm on Thursday.
                                </div>
                            </div>

                            <!-- AI Message -->
                            <div class="flex flex-col w-full">
                                <div class="p-3 rounded-2xl max-w-[85%] text-sm mb-2 shadow-sm chat-bubble-ai self-start ml-0 mr-auto">
                                    Checking the calendar... Yes, 5pm Thursday is available. Should I book that for you?
                                </div>
                            </div>

                            <!-- User Message -->
                            <div class="flex flex-col w-full">
                                <div class="p-3 rounded-2xl max-w-[85%] text-sm mb-2 shadow-sm chat-bubble-user self-end ml-auto mr-0">
                                    Yes please.
                                </div>
                            </div>

                            <!-- AI Message -->
                            <div class="flex flex-col w-full">
                                <div class="p-3 rounded-2xl max-w-[85%] text-sm mb-2 shadow-sm chat-bubble-ai self-start ml-0 mr-auto">
                                    Done. I've sent a confirmation text to your mobile. You can reply 'cancel' anytime if plans change.
                                </div>
                            </div>

                            <!-- SMS Message -->
                            <div class="flex flex-col w-full">
                                <div class="bg-green-600/20 border border-green-500/50 p-3 rounded-lg text-xs text-green-200 mt-2 text-center">
                                    <i class="fas fa-sms mr-1"></i> SMS: Booking Confirmed: 5pm Thursday. Reply 'cancel booking' to cancel.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- GEMINI AI PLAYGROUND SECTION -->
    <section id="playground" class="py-24 relative overflow-hidden bg-slate-900/30">
        <div class="absolute inset-0 bg-brand-primary/5 pointer-events-none"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <span class="text-brand-accent font-semibold tracking-wider uppercase text-sm">Powered by Gemini AI</span>
                <h2 class="text-3xl md:text-5xl font-bold mt-2">Interactive AI Lab</h2>
                <p class="text-gray-400 mt-4 max-w-2xl mx-auto">Don't just take our word for it. Use our live AI tools to generate scripts and test our safety protocols right now.</p>
            </div>

            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Tool 1: Personality Architect -->
                <div class="glass-card rounded-3xl p-8 border border-white/10 relative overflow-hidden group">
                    <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition">
                        <i class="fas fa-pencil-alt text-9xl text-white"></i>
                    </div>
                    
                    <h3 class="text-2xl font-bold mb-4 flex items-center">
                        <i class="fas fa-user-astronaut text-brand-accent mr-3"></i> Personality Architect
                    </h3>
                    <p class="text-gray-400 mb-6 text-sm">Worried an AI will sound robotic? Generate a custom script for your business to see how natural it can sound.</p>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="text-xs font-bold text-gray-500 uppercase">Business Name</label>
                            <input type="text" id="script-biz-name" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 mt-1 focus:ring-1 focus:ring-brand-accent outline-none" placeholder="e.g. Prestige Plumbing">
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="text-xs font-bold text-gray-500 uppercase">Industry</label>
                                <select id="script-industry" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 mt-1 focus:ring-1 focus:ring-brand-accent outline-none">
                                    <option>General</option>
                                    <option>Hair Salon</option>
                                    <option>Plumbing/Trades</option>
                                    <option>Restaurant</option>
                                    <option>Dental Clinic</option>
                                    <option>Legal Firm</option>
                                </select>
                            </div>
                            <div>
                                <label class="text-xs font-bold text-gray-500 uppercase">Tone</label>
                                <select id="script-tone" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 mt-1 focus:ring-1 focus:ring-brand-accent outline-none">
                                    <option>Professional & Polished</option>
                                    <option>Friendly & Casual</option>
                                    <option>High Energy</option>
                                    <option>Empathetic (Medical)</option>
                                    <option>Cheeky/Fun</option>
                                </select>
                            </div>
                        </div>
                        
                        <button onclick="generateScript()" id="btn-generate-script" class="w-full bg-gradient-to-r from-brand-accent to-blue-500 hover:from-cyan-400 hover:to-blue-400 text-white font-bold py-3 rounded-lg shadow-lg transition transform active:scale-95 flex justify-center items-center">
                            <span>Generate Script ✨</span>
                        </button>
                    </div>

                    <!-- Output Area -->
                    <div id="script-output" class="mt-6 hidden">
                        <div class="bg-slate-950 rounded-xl p-4 border border-slate-800">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-xs text-brand-success font-mono">GENERATED_OUTPUT.txt</span>
                                <button onclick="copyScript()" class="text-gray-500 hover:text-white"><i class="fas fa-copy"></i></button>
                            </div>
                            <div id="script-content" class="text-sm text-gray-300 font-mono leading-relaxed whitespace-pre-wrap"></div>
                        </div>
                    </div>
                </div>

                <!-- Tool 2: Intent Guard Simulator -->
                <div class="glass-card rounded-3xl p-8 border border-white/10 relative overflow-hidden group">
                    <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition">
                        <i class="fas fa-shield-alt text-9xl text-white"></i>
                    </div>

                    <h3 class="text-2xl font-bold mb-4 flex items-center">
                        <i class="fas fa-shield-virus text-brand-danger mr-3"></i> Intent Guard™ Simulator
                    </h3>
                    <p class="text-gray-400 mb-6 text-sm">Test our "Smart Handoff" protocol. Type a difficult customer query to see if the AI decides to handle it or escalate to a human.</p>

                    <div class="space-y-4">
                        <div>
                            <label class="text-xs font-bold text-gray-500 uppercase">Simulate Customer Query</label>
                            <textarea id="intent-query" rows="3" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 mt-1 focus:ring-1 focus:ring-brand-danger outline-none resize-none" placeholder="Try something like: 'I'm really unhappy with my last service and I want a refund now.'"></textarea>
                        </div>
                        
                        <div class="flex gap-2">
                            <button onclick="testIntent('I need to book an appointment for tomorrow at 3pm')" class="text-xs bg-slate-800 hover:bg-slate-700 px-3 py-1 rounded-full text-gray-400 transition">"Book appointment"</button>
                            <button onclick="testIntent('This is an emergency, water is leaking everywhere!')" class="text-xs bg-slate-800 hover:bg-slate-700 px-3 py-1 rounded-full text-gray-400 transition">"Emergency leak"</button>
                        </div>

                        <button onclick="analyzeIntent()" id="btn-analyze-intent" class="w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 rounded-lg shadow-lg transition transform active:scale-95 flex justify-center items-center border border-slate-600">
                            <span>Analyze Risk Level ✨</span>
                        </button>
                    </div>

                    <!-- Analysis Output -->
                    <div id="intent-output" class="mt-6 hidden transition-all duration-300">
                        <div class="flex items-center gap-4 mb-4">
                            <div id="intent-badge" class="px-4 py-1 rounded-full font-bold text-sm uppercase tracking-wide bg-gray-600 text-white">
                                Analyzing...
                            </div>
                            <div class="h-px bg-slate-700 flex-grow"></div>
                        </div>
                        <div class="bg-slate-950/50 rounded-xl p-4 border border-slate-800">
                            <p class="text-xs text-gray-500 uppercase mb-1">AI Reasoning Engine</p>
                            <p id="intent-reason" class="text-sm text-gray-300 italic"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="py-20 relative">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold">Trusted by London's Best</h2>
                <p class="text-gray-400 mt-2">Join hundreds of businesses reclaiming their time.</p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-6">
                <!-- Card 1 -->
                <div class="glass-card p-8 rounded-2xl relative">
                    <i class="fas fa-quote-left text-brand-primary/30 text-4xl absolute top-6 left-6"></i>
                    <p class="text-gray-300 relative z-10 pt-6 mb-6">"Honestly, I was skeptical. But this system booked £1,200 worth of appointments last weekend while the shop was closed. It pays for itself."</p>
                    <div class="flex items-center">
                        <div class="w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center text-xs font-bold">JD</div>
                        <div class="ml-3">
                            <div class="font-bold text-sm">James D.</div>
                            <div class="text-xs text-gray-500">Owner, Fade Masters London</div>
                        </div>
                    </div>
                </div>
                <!-- Card 2 -->
                <div class="glass-card p-8 rounded-2xl relative border-brand-accent/20 border">
                    <i class="fas fa-quote-left text-brand-accent/30 text-4xl absolute top-6 left-6"></i>
                    <p class="text-gray-300 relative z-10 pt-6 mb-6">"The 'safety lock' feature is a lifesaver. I used other bots that double-booked me constantly. Booking Solutions has been 100% accurate."</p>
                    <div class="flex items-center">
                        <div class="w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center text-xs font-bold">SL</div>
                        <div class="ml-3">
                            <div class="font-bold text-sm">Sarah L.</div>
                            <div class="text-xs text-gray-500">Private Therapist</div>
                        </div>
                    </div>
                </div>
                <!-- Card 3 -->
                <div class="glass-card p-8 rounded-2xl relative">
                    <i class="fas fa-quote-left text-brand-primary/30 text-4xl absolute top-6 left-6"></i>
                    <p class="text-gray-300 relative z-10 pt-6 mb-6">"My reception staff can focus on the clients in the shop now instead of answering the phone every 5 minutes. The British accent is spot on."</p>
                    <div class="flex items-center">
                        <div class="w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center text-xs font-bold">MR</div>
                        <div class="ml-3">
                            <div class="font-bold text-sm">Marcus R.</div>
                            <div class="text-xs text-gray-500">Manager, The Grand Salon</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive ROI Calculator -->
    <section id="roi" class="py-20 relative bg-slate-900/50">
        <div class="absolute inset-0 bg-gradient-to-b from-brand-dark to-blue-900/20 pointer-events-none"></div>
        <div class="max-w-4xl mx-auto px-4 relative z-10">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold mb-4">The Cost of "I'll Call You Back"</h2>
                <p class="text-gray-400">Use this calculator to see how much revenue you are losing to missed calls every year.</p>
            </div>

            <div class="glass-card rounded-2xl p-8 md:p-12">
                <div class="grid md:grid-cols-2 gap-12">
                    <div class="space-y-8">
                        <!-- Input 1 -->
                        <div>
                            <div class="flex justify-between mb-2">
                                <label class="text-gray-300 font-medium">Missed Calls Per Week</label>
                                <span class="text-brand-accent font-bold" id="calls-val">5</span>
                            </div>
                            <input type="range" id="calls-input" min="1" max="50" value="5" class="w-full">
                        </div>
                        
                        <!-- Input 2 -->
                        <div>
                            <div class="flex justify-between mb-2">
                                <label class="text-gray-300 font-medium">Avg. Job Value (£)</label>
                                <span class="text-brand-accent font-bold">£<span id="value-val">40</span></span>
                            </div>
                            <input type="range" id="value-input" min="10" max="500" value="40" step="10" class="w-full">
                        </div>

                        <div class="pt-4 text-sm text-gray-500 italic">
                            *Calculation assumes 52 working weeks.
                        </div>
                    </div>

                    <div class="flex flex-col justify-center items-center text-center border-l border-white/10 pl-0 md:pl-12 mt-8 md:mt-0">
                        <div class="text-gray-400 mb-2 uppercase tracking-wide text-sm">Potential Yearly Loss</div>
                        <div class="text-5xl md:text-6xl font-bold text-brand-danger animate-pulse" id="total-loss">£10,400</div>
                        <p class="text-gray-400 mt-4 text-sm max-w-xs">
                            This is revenue currently going to your competitors who answer the phone.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold mb-4">Transparent Pricing</h2>
                <p class="text-gray-400">Setup fee: £150 - £300 (One-time configuration).</p>
            </div>

            <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <!-- Lite -->
                <div class="glass-card rounded-2xl p-8 hover:bg-white/5 transition border-t-4 border-gray-600">
                    <h3 class="text-xl font-bold mb-2">Lite</h3>
                    <div class="text-3xl font-bold mb-6">£49<span class="text-sm text-gray-500 font-normal">/mo</span></div>
                    <ul class="space-y-4 mb-8 text-gray-300 text-sm">
                        <li><i class="fas fa-check text-brand-primary mr-2"></i> 24/7 AI Answering</li>
                        <li><i class="fas fa-check text-brand-primary mr-2"></i> Message Taking</li>
                        <li><i class="fas fa-check text-brand-primary mr-2"></i> Instant Email Summaries</li>
                        <li><i class="fas fa-check text-brand-primary mr-2"></i> British Accent</li>
                    </ul>
                    <a href="#onboard" onclick="selectPlan('Lite')" class="block w-full py-3 text-center border border-gray-600 rounded-lg hover:bg-white hover:text-black transition">Select Lite</a>
                </div>

                <!-- Pro -->
                <div class="glass-card rounded-2xl p-8 hover:bg-white/5 transition border-t-4 border-brand-primary relative transform md:-translate-y-4">
                    <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-brand-primary px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider shadow-lg">Most Popular</div>
                    <h3 class="text-xl font-bold mb-2">Pro</h3>
                    <div class="text-3xl font-bold mb-6">£99<span class="text-sm text-gray-500 font-normal">/mo</span></div>
                    <ul class="space-y-4 mb-8 text-gray-300 text-sm">
                        <li><i class="fas fa-check text-brand-primary mr-2"></i> <strong>Assisted Booking</strong></li>
                        <li><i class="fas fa-check text-brand-primary mr-2"></i> Calendar Sync</li>
                        <li><i class="fas fa-check text-brand-primary mr-2"></i> Smart Call Handoff</li>
                        <li><i class="fas fa-check text-brand-primary mr-2"></i> Everything in Lite</li>
                    </ul>
                    <a href="#onboard" onclick="selectPlan('Pro')" class="block w-full py-3 text-center bg-brand-primary rounded-lg hover:bg-blue-600 transition shadow-lg shadow-blue-500/25 font-bold">Select Pro</a>
                </div>

                <!-- Max -->
                <div class="glass-card rounded-2xl p-8 hover:bg-white/5 transition border-t-4 border-brand-accent">
                    <h3 class="text-xl font-bold mb-2">Max <span class="text-brand-accent text-xs bg-brand-accent/20 px-2 py-1 rounded ml-2">V2.1</span></h3>
                    <div class="text-3xl font-bold mb-6">£199<span class="text-sm text-gray-500 font-normal">/mo</span></div>
                    <ul class="space-y-4 mb-8 text-gray-300 text-sm">
                        <li><i class="fas fa-check text-brand-accent mr-2"></i> <strong>Full Auto-Booking</strong></li>
                        <li><i class="fas fa-check text-brand-accent mr-2"></i> 2-Way SMS Confirmation</li>
                        <li><i class="fas fa-check text-brand-accent mr-2"></i> "Safety Lock" Conflict Check</li>
                        <li><i class="fas fa-check text-brand-accent mr-2"></i> Priority Support</li>
                    </ul>
                    <a href="#onboard" onclick="selectPlan('Max')" class="block w-full py-3 text-center border border-brand-accent text-brand-accent rounded-lg hover:bg-brand-accent hover:text-white transition">Select Max</a>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-20 bg-slate-900/50">
        <div class="max-w-3xl mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold">Frequently Asked Questions</h2>
            </div>
            
            <div class="space-y-4">
                <!-- FAQ 1 -->
                <details class="glass-card rounded-xl group p-4 cursor-pointer">
                    <summary class="flex justify-between items-center font-medium text-lg text-white">
                        <span>Will it sound robotic?</span>
                        <span class="transition group-open:rotate-180"><i class="fas fa-chevron-down"></i></span>
                    </summary>
                    <div class="text-gray-400 mt-4 text-sm leading-relaxed">
                        Not at all. We use "Human Parity" voice models with British accents that include natural pauses, "umms", and breaths. Most callers do not realize they are speaking to an AI.
                    </div>
                </details>

                <!-- FAQ 2 -->
                <details class="glass-card rounded-xl group p-4 cursor-pointer">
                    <summary class="flex justify-between items-center font-medium text-lg text-white">
                        <span>What if a client asks for a refund or gets angry?</span>
                        <span class="transition group-open:rotate-180"><i class="fas fa-chevron-down"></i></span>
                    </summary>
                    <div class="text-gray-400 mt-4 text-sm leading-relaxed">
                        Our system has "Sentiment Analysis". If it detects anger or complex queries (like refunds), it triggers the "Smart Handoff" protocol and forwards the call immediately to your mobile phone.
                    </div>
                </details>

                <!-- FAQ 3 -->
                <details class="glass-card rounded-xl group p-4 cursor-pointer">
                    <summary class="flex justify-between items-center font-medium text-lg text-white">
                        <span>Can I keep my current phone number?</span>
                        <span class="transition group-open:rotate-180"><i class="fas fa-chevron-down"></i></span>
                    </summary>
                    <div class="text-gray-400 mt-4 text-sm leading-relaxed">
                        Yes. You simply divert your current landline or mobile to the specific AI number we provide you. You can turn this diversion on or off whenever you like (e.g., only after hours).
                    </div>
                </details>

                <!-- FAQ 4 -->
                <details class="glass-card rounded-xl group p-4 cursor-pointer">
                    <summary class="flex justify-between items-center font-medium text-lg text-white">
                        <span>How does the 2-Way SMS work?</span>
                        <span class="transition group-open:rotate-180"><i class="fas fa-chevron-down"></i></span>
                    </summary>
                    <div class="text-gray-400 mt-4 text-sm leading-relaxed">
                        When a booking is made, the AI sends a text confirmation. If the client replies "Cancel", our system recognizes their phone number, finds the booking in your calendar, deletes it, and confirms the cancellation via text.
                    </div>
                </details>
            </div>
        </div>
    </section>

    <!-- Onboarding Form (UPDATED FOR FORMSPREE) -->
    <section id="onboard" class="py-20">
        <div class="max-w-2xl mx-auto px-4">
            <div class="glass-card rounded-2xl p-8 md:p-12 border border-brand-primary/20">
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold">Configure Your AI</h2>
                    <p class="text-gray-400 text-sm mt-2">Start your onboarding. We will contact you for the setup fee.</p>
                </div>

                <form id="onboard-form" class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Business Name</label>
                            <input type="text" id="biz-name" name="business_name" required class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary outline-none transition" placeholder="e.g. London Barbers">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Business Email</label>
                            <input type="email" id="biz-email" name="email" required class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary outline-none transition" placeholder="you@company.com">
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Owner Full Name</label>
                            <input type="text" id="owner-name" name="owner_name" required class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary outline-none transition" placeholder="John Doe">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Contact Phone</label>
                            <input type="tel" id="owner-phone" name="phone" required class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary outline-none transition" placeholder="+44 7700 900000">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Selected Plan</label>
                        <select id="plan-selector" name="plan" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary outline-none transition">
                            <option value="Lite">Lite (£49/mo)</option>
                            <option value="Pro" selected>Pro (£99/mo)</option>
                            <option value="Max">Max (£199/mo) - Recommended</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Industry</label>
                        <select id="industry-select" name="industry" onchange="toggleOtherIndustry(this)" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary outline-none transition">
                            <option value="Hair & Beauty">Hair & Beauty</option>
                            <option value="Home Services">Home Services (Plumber, Electrician)</option>
                            <option value="Hospitality">Hospitality</option>
                            <option value="Medical / Dental">Medical / Dental</option>
                            <option value="Other">Other (Please Specify)</option>
                        </select>
                        <input type="text" id="other-industry-input" name="industry_other" class="hidden w-full mt-3 bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-accent outline-none transition" placeholder="Type your industry here...">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Additional Comments / Questions</label>
                        <textarea id="comments" name="comments" rows="3" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:ring-2 focus:ring-brand-primary outline-none transition" placeholder="Any specific requirements?"></textarea>
                    </div>

                    <div class="flex items-start">
                        <input type="checkbox" required class="mt-1 mr-3 h-4 w-4 rounded bg-slate-800 border-slate-700 text-brand-primary focus:ring-offset-slate-900">
                        <p class="text-xs text-gray-400">I understand that a setup fee (£150-£300) applies and I agree to the <a href="#" onclick="openModal('terms'); return false;" class="text-brand-primary hover:underline">Terms of Service</a>.</p>
                    </div>

                    <button type="submit" class="w-full bg-gradient-to-r from-brand-primary to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold py-4 rounded-lg shadow-lg shadow-blue-500/30 transition transform hover:-translate-y-1">
                        Submit Configuration
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-10 border-t border-white/5 text-center text-gray-500 text-sm">
        <p>&copy; 2025 Booking Solutions. London Market Edition V2.1</p>
        <div class="mt-4 space-x-4">
            <button onclick="openModal('terms')" class="hover:text-white transition">Terms of Service</button>
            <button onclick="openModal('privacy')" class="hover:text-white transition">Privacy Policy</button>
            <button onclick="openModal('gdpr')" class="hover:text-white transition">GDPR & Compliance</button>
            <a href="#" class="hover:text-white transition">Support</a>
        </div>
        <p class="mt-4 text-xs text-gray-600">Registered in England & Wales.</p>
    </footer>

    <!-- LEGAL MODALS (Hidden by default) -->
    <div id="legal-modal-backdrop" class="fixed inset-0 bg-black/90 backdrop-blur-md z-[70] hidden flex items-center justify-center p-4">
        <div class="glass-card bg-slate-900 rounded-2xl w-full max-w-3xl h-[80vh] flex flex-col relative border border-white/10 shadow-2xl">
            <!-- Close Button -->
            <button onclick="closeModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white bg-slate-800 rounded-full p-2 w-10 h-10 transition z-10">
                <i class="fas fa-times"></i>
            </button>

            <!-- Content Container -->
            <div class="p-8 overflow-y-auto legal-content">
                
                <!-- Terms Content -->
                <div id="modal-terms" class="hidden space-y-4">
                    <h2 class="text-2xl font-bold mb-6 text-brand-primary">Terms of Service</h2>
                    <p class="text-sm text-gray-400">Last Updated: November 2025</p>
                    <h3 class="font-bold text-white mt-4">1. Acceptance of Terms</h3>
                    <p class="text-gray-300 text-sm">By accessing and using the Booking Solutions AI Receptionist service, you agree to be bound by these Terms. If you do not agree, you must not use the service.</p>
                    <h3 class="font-bold text-white mt-4">2. Service Description</h3>
                    <p class="text-gray-300 text-sm">Booking Solutions provides an automated voice answering service. We do not guarantee 100% accuracy in transcription or booking, though we strive for human parity. The client is responsible for verifying bookings.</p>
                    <h3 class="font-bold text-white mt-4">3. Payments & Cancellations</h3>
                    <p class="text-gray-300 text-sm">Subscriptions are billed monthly. You may cancel at any time with 30 days' notice. Setup fees are non-refundable once the configuration process has begun.</p>
                    <h3 class="font-bold text-white mt-4">4. Liability</h3>
                    <p class="text-gray-300 text-sm">Booking Solutions is not liable for lost business arising from missed calls, system outages, or incorrect AI handling. Our liability is limited to the monthly subscription fee paid.</p>
                </div>

                <!-- Privacy Content -->
                <div id="modal-privacy" class="hidden space-y-4">
                    <h2 class="text-2xl font-bold mb-6 text-brand-primary">Privacy Policy</h2>
                    <p class="text-sm text-gray-400">We respect your privacy and are committed to protecting your personal data.</p>
                    <h3 class="font-bold text-white mt-4">1. Data Controller</h3>
                    <p class="text-gray-300 text-sm">Booking Solutions (London) is the Data Controller. Contact: abid@booking-solutions.co.uk</p>
                    <h3 class="font-bold text-white mt-4">2. Data We Collect</h3>
                    <p class="text-gray-300 text-sm">We process voice data (recordings of calls), phone numbers, and calendar data (Google Calendar events) solely for the purpose of managing appointments.</p>
                    <h3 class="font-bold text-white mt-4">3. Third Party Processors</h3>
                    <p class="text-gray-300 text-sm">We use trusted sub-processors including Twilio (Telephony), Retell AI (Voice Processing), and Google Cloud (Storage). All data is encrypted in transit and at rest.</p>
                </div>

                <!-- GDPR Content -->
                <div id="modal-gdpr" class="hidden space-y-4">
                    <h2 class="text-2xl font-bold mb-6 text-brand-primary">GDPR & AI Compliance</h2>
                    <div class="bg-blue-900/20 border border-blue-500/30 p-4 rounded-lg mb-6">
                        <p class="text-sm text-blue-200"><i class="fas fa-shield-alt mr-2"></i> We are fully compliant with the UK GDPR and Data Protection Act 2018.</p>
                    </div>
                    <h3 class="font-bold text-white mt-4">1. Lawful Basis</h3>
                    <p class="text-gray-300 text-sm">We process caller data under "Legitimate Interests" (to fulfill the user's request to book a service) and "Contract" (to manage the booking for our client).</p>
                    <h3 class="font-bold text-white mt-4">2. AI Transparency</h3>
                    <p class="text-gray-300 text-sm">While our AI sounds human, we recommend clients disclose the use of an automated assistant. Our default prompt includes a welcome message identifying the system as a "digital assistant".</p>
                    <h3 class="font-bold text-white mt-4">3. Right to Erasure</h3>
                    <p class="text-gray-300 text-sm">Any caller may request deletion of their call recording or data by replying "STOP" or "DELETE" to our SMS service, or by contacting the business directly.</p>
                </div>

            </div>
        </div>
    </div>

    <!-- Audio Modal (Existing) -->
    <div id="audio-modal" class="fixed inset-0 z-[60] hidden">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeAudioModal()"></div>
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md p-4">
            <div class="glass-card bg-slate-900 rounded-3xl p-8 text-center relative overflow-hidden">
                <button onclick="closeAudioModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white">
                    <i class="fas fa-times text-xl"></i>
                </button>
                <div class="mb-8">
                    <div class="w-24 h-24 bg-brand-primary/20 rounded-full mx-auto flex items-center justify-center mb-4 relative">
                        <div class="absolute inset-0 bg-brand-primary rounded-full animate-ping opacity-20"></div>
                        <i class="fas fa-microphone text-3xl text-brand-primary"></i>
                    </div>
                    <h3 class="text-xl font-bold">Live Call Simulation</h3>
                    <p class="text-sm text-gray-400">British Female Voice • Friendly Tone</p>
                </div>
                <div class="h-12 flex justify-center items-end space-x-1 mb-8" id="visualizer">
                    <!-- JS generates bars -->
                </div>
                <div class="bg-slate-800 rounded-lg p-4 text-left">
                    <p class="text-brand-accent text-xs font-bold uppercase mb-2">AI Transcript</p>
                    <p class="text-gray-300 italic transition-all duration-300" id="transcript-text">"Good afternoon, thanks for calling London Barbers. I can help you book a haircut or answer questions about our services. How can I help you today?"</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- GEMINI API INTEGRATION ---
        const apiKey = ""; 

        // 1. Script Architect Function
        async function generateScript() {
            const bizName = document.getElementById('script-biz-name').value || "Our Business";
            const industry = document.getElementById('script-industry').value;
            const tone = document.getElementById('script-tone').value;
            const btn = document.getElementById('btn-generate-script');
            const outputArea = document.getElementById('script-output');
            const contentArea = document.getElementById('script-content');

            const originalBtnText = btn.innerHTML;
            btn.innerHTML = `<i class="fas fa-circle-notch fa-spin mr-2"></i> Designing Script...`;
            btn.disabled = true;

            const prompt = `You are an expert copywriter for telephone AI receptionists. 
            Write a short, engaging welcome script and a 'no availability' script for a UK-based business.
            
            Business Name: ${bizName}
            Industry: ${industry}
            Tone: ${tone}
            
            Format:
            **Welcome Message:** [Script]
            **No Availability:** [Script]
            
            Keep it natural, spoken-word friendly, and include [Placeholder] spots where necessary.`;

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }]
                    })
                });

                const data = await response.json();
                
                if (data.candidates && data.candidates[0].content) {
                    const text = data.candidates[0].content.parts[0].text;
                    outputArea.classList.remove('hidden');
                    contentArea.innerHTML = text.replace(/\*\*(.*?)\*\*/g, '<strong class="text-brand-accent">$1</strong>');
                } else {
                    alert('AI currently busy. Please try again.');
                }
            } catch (error) {
                console.error('Gemini Error:', error);
                alert('Connection error. Please check your internet.');
            } finally {
                btn.innerHTML = originalBtnText;
                btn.disabled = false;
            }
        }

        function copyScript() {
            const text = document.getElementById('script-content').innerText;
            navigator.clipboard.writeText(text);
            alert("Script copied to clipboard!");
        }

        // 2. Intent Guard / Safety Analyzer Function
        async function testIntent(presetQuery = null) {
            if (presetQuery) {
                document.getElementById('intent-query').value = presetQuery;
            }
        }

        async function analyzeIntent() {
            const query = document.getElementById('intent-query').value;
            if (!query) return alert("Please type a customer query first.");

            const btn = document.getElementById('btn-analyze-intent');
            const outputDiv = document.getElementById('intent-output');
            const badge = document.getElementById('intent-badge');
            const reasonText = document.getElementById('intent-reason');

            const originalBtnText = btn.innerHTML;
            btn.innerHTML = `<i class="fas fa-shield-alt fa-spin mr-2"></i> Analyzing...`;
            btn.disabled = true;
            outputDiv.classList.add('hidden');

            const prompt = `Act as an AI Safety Filter for a receptionist bot. Analyze the following customer query.
            Query: "${query}"
            
            Determine if this is:
            1. SAFE: A routine booking, question about hours, or simple info request. (Handled by AI)
            2. ESCALATE: An angry customer, complex complaint, emergency, or request for a human. (Handoff to Human)
            
            Respond in JSON format only: { "decision": "SAFE" or "ESCALATE", "reason": "Short explanation in 1 sentence" }`;

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }],
                        generationConfig: { responseMimeType: "application/json" }
                    })
                });

                const data = await response.json();
                const result = JSON.parse(data.candidates[0].content.parts[0].text);

                outputDiv.classList.remove('hidden');
                reasonText.textContent = result.reason;

                if (result.decision === "SAFE") {
                    badge.className = "px-4 py-1 rounded-full font-bold text-sm uppercase tracking-wide bg-brand-success text-white shadow-[0_0_15px_rgba(16,185,129,0.5)]";
                    badge.innerHTML = `<i class="fas fa-robot mr-2"></i> AI Can Handle`;
                } else {
                    badge.className = "px-4 py-1 rounded-full font-bold text-sm uppercase tracking-wide bg-brand-danger text-white shadow-[0_0_15px_rgba(239,68,68,0.5)]";
                    badge.innerHTML = `<i class="fas fa-user-headset mr-2"></i> Human Handoff`;
                }

            } catch (error) {
                console.error('Gemini Error:', error);
                alert('Analysis failed. Please try again.');
            } finally {
                btn.innerHTML = originalBtnText;
                btn.disabled = false;
            }
        }

        // --- ROI Calculator Logic ---
        const callsInput = document.getElementById('calls-input');
        const valueInput = document.getElementById('value-input');
        const callsValDisplay = document.getElementById('calls-val');
        const valueValDisplay = document.getElementById('value-val');
        const totalLossDisplay = document.getElementById('total-loss');

        function calculateROI() {
            const calls = parseInt(callsInput.value);
            const value = parseInt(valueInput.value);
            callsValDisplay.textContent = calls;
            valueValDisplay.textContent = value;
            const loss = calls * value * 52;
            totalLossDisplay.textContent = '£' + loss.toLocaleString('en-GB');
        }

        callsInput.addEventListener('input', calculateROI);
        valueInput.addEventListener('input', calculateROI);


        // --- Audio Modal Logic & TTS ---
        const visualizer = document.getElementById('visualizer');
        for(let i=0; i<20; i++) {
            const bar = document.createElement('div');
            bar.className = 'bar';
            bar.style.animationDuration = Math.floor(Math.random() * (800 - 400 + 1) + 400) + 'ms';
            visualizer.appendChild(bar);
        }

        let synth = window.speechSynthesis;
        let utterance = null;

        function openAudioModal() {
            document.getElementById('audio-modal').classList.remove('hidden');
            const text = document.getElementById('transcript-text');
            text.style.opacity = '0';
            setTimeout(() => text.style.opacity = '1', 500);
            setTimeout(speakMockAudio, 600);
        }

        function closeAudioModal() {
            document.getElementById('audio-modal').classList.add('hidden');
            stopMockAudio();
        }

        function speakMockAudio() {
            if (synth.speaking) {
                synth.cancel();
            }
            const textToSpeak = "Good afternoon, thanks for calling London Barbers. I can help you book a haircut or answer questions about our services. How can I help you today?";
            utterance = new SpeechSynthesisUtterance(textToSpeak);
            
            const voices = synth.getVoices();
            const britishVoice = voices.find(voice => 
                voice.lang.includes('GB') || 
                voice.name.includes('UK') || 
                voice.name.includes('British')
            );
            if (britishVoice) {
                utterance.voice = britishVoice;
            }
            utterance.pitch = 1.1; 
            utterance.rate = 1.0;  

            synth.speak(utterance);
        }

        function stopMockAudio() {
            if (synth.speaking) {
                synth.cancel();
            }
        }
        speechSynthesis.onvoiceschanged = () => {};


        // --- LEGAL MODAL LOGIC ---
        function openModal(type) {
            const backdrop = document.getElementById('legal-modal-backdrop');
            const terms = document.getElementById('modal-terms');
            const privacy = document.getElementById('modal-privacy');
            const gdpr = document.getElementById('modal-gdpr');

            // Hide all first
            terms.classList.add('hidden');
            privacy.classList.add('hidden');
            gdpr.classList.add('hidden');

            // Show backdrop
            backdrop.classList.remove('hidden');

            // Show selected
            if (type === 'terms') terms.classList.remove('hidden');
            if (type === 'privacy') privacy.classList.remove('hidden');
            if (type === 'gdpr') gdpr.classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('legal-modal-backdrop').classList.add('hidden');
        }

        // Close on click outside
        document.getElementById('legal-modal-backdrop').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });


        // --- ONBOARDING FORM LOGIC (AJAX TO FORMSPREE) ---
        
        // ******************************************************
        // IMPORTANT: PASTE YOUR FORMSPREE URL HERE
        const FORMSPREE_ENDPOINT = "https://formspree.io/f/mvgerozp"; 
        // Example: https://formspree.io/f/mqk....
        // ******************************************************

        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');

        btn.addEventListener('click', () => {
            menu.classList.toggle('hidden');
        });

        function selectPlan(plan) {
            const selector = document.getElementById('plan-selector');
            selector.value = plan;
        }

        function toggleOtherIndustry(select) {
            const input = document.getElementById('other-industry-input');
            if (select.value === 'Other') {
                input.classList.remove('hidden');
                input.required = true;
            } else {
                input.classList.add('hidden');
                input.required = false;
            }
        }

        const form = document.getElementById('onboard-form');
        
        form.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = this.querySelector('button');
            const originalText = submitBtn.innerText;

            // Handle "Other" Industry Logic
            const industrySelect = document.getElementById('industry-select');
            const otherInput = document.getElementById('other-industry-input');
            if(industrySelect.value === 'Other') {
                // Ensure value is set to the text input for submission
                // Formspree just reads 'name' attributes, so we need to be careful.
                // We'll append the 'other' value to the industry select value for the payload
                industrySelect.options[industrySelect.selectedIndex].value = "Other: " + otherInput.value;
            }

            // UI State
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Sending...';
            submitBtn.classList.add('opacity-75', 'cursor-not-allowed');
            submitBtn.disabled = true;

            // Send via AJAX
            try {
                const formData = new FormData(form);
                const response = await fetch(FORMSPREE_ENDPOINT, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    submitBtn.classList.remove('bg-brand-primary', 'bg-blue-600', 'from-brand-primary', 'to-blue-600');
                    submitBtn.classList.add('bg-green-600');
                    submitBtn.innerHTML = '<i class="fas fa-check mr-2"></i> Sent Successfully';
                    form.reset();
                    
                    setTimeout(() => {
                        alert("Thank you! Your configuration has been sent securely to our team. We will contact you shortly.");
                        submitBtn.innerHTML = originalText;
                        submitBtn.classList.add('bg-brand-primary'); 
                        submitBtn.classList.remove('bg-green-600', 'opacity-75', 'cursor-not-allowed');
                        submitBtn.disabled = false;
                    }, 500);
                } else {
                    throw new Error('Network response was not ok.');
                }
            } catch (error) {
                console.error("Submission Error:", error);
                alert("There was a problem sending the form. Please try again or email us directly at abid@booking-solutions.co.uk");
                submitBtn.innerHTML = originalText;
                submitBtn.classList.remove('opacity-75', 'cursor-not-allowed');
                submitBtn.disabled = false;
            }
        });

    </script>
</body>
</html>
